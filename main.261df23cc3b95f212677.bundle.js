(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1252:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(448);module._StorybookPreserveDecorators=!0,Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)([__webpack_require__(1276)],module)}.call(this,__webpack_require__(1253)(module))},1276:function(module,exports,__webpack_require__){var map={"./Animated.stories.tsx":1277,"./Basic.stories.tsx":1280};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1276},1277:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"FramerMotion",(function(){return FramerMotion}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(52),framer_motion__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(115),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_src__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(64),addSourceDecorator=(__webpack_require__(184).withSource,__webpack_require__(184).addSource);__webpack_exports__.default={parameters:{storySource:{source:"import { AnimatePresence, motion } from 'framer-motion'\nimport React, { useEffect, useState } from 'react'\nimport { ModalStack, useModals } from '../src'\n\nexport default {\n  title: 'Animated',\n  decorators: [\n    (Story) => (\n      <ModalStack renderModals={AnimatedModals}>\n        <Story />\n      </ModalStack>\n    ),\n  ],\n}\n\nexport const FramerMotion = () => {\n  const { openModal } = useModals()\n  return (\n    <button\n      onClick={() => {\n        openModal(AnimatedModal)\n      }}\n    >\n      Open Modal\n    </button>\n  )\n}\n\nfunction AnimatedModals({ stack }) {\n  // the \"displayed\" stack which will be a lagged version of stack\n  // in order to animate the transitions between modals\n  const [displayedStack, setDisplayedStack] = useState(stack)\n\n  // track the \"open\" state manually so we can dismiss the\n  // top modal before popping it off the stack\n  const [isOpen, setOpen] = useState(false)\n\n  useEffect(() => {\n    // we're opening the first modal, so update the stack right away\n    if (stack.length === 1 && displayedStack.length === 0) {\n      setOpen(true)\n      setDisplayedStack(stack)\n    }\n    // stack updated, trigger a dismissal of the current modal\n    else {\n      setOpen(false)\n    }\n  }, [stack])\n\n  return (\n    <>\n      <AnimatePresence>\n        {stack.length > 0 && (\n          <motion.div\n            style={{\n              zIndex: 90,\n              position: `fixed`,\n              top: 0,\n              left: 0,\n              right: 0,\n              bottom: 0,\n              background: 'rgba(0,0,0,0.3)',\n            }}\n            variants={{\n              show: { opacity: 1 },\n              hide: { opacity: 0 },\n            }}\n            initial=\"hide\"\n            animate=\"show\"\n            exit=\"hide\"\n          />\n        )}\n      </AnimatePresence>\n      {displayedStack.map((modal, index) => (\n        <modal.component\n          key={index}\n          open={index === displayedStack.length - 1 && isOpen}\n          onAnimationComplete={() => {\n            // set open state for next modal\n            if (stack.length > 0) {\n              setOpen(true)\n            } else {\n              setOpen(false)\n            }\n\n            // update displayed stack\n            // setTimeout is a hack to prevent a warning about updating state\n            // in an unmounted component (I can't figure out why it happens, or why this fixes it)\n            setTimeout(() => setDisplayedStack(stack))\n\n            modal.props?.onAnimationComplete?.()\n          }}\n          {...modal.props}\n        />\n      ))}\n    </>\n  )\n}\n\nfunction AnimatedModal({\n  open,\n  message = `I'm modal #1`,\n  title = 'Hello',\n  ...props\n}: {\n  open: boolean\n  title?: string\n  message?: string\n}) {\n  const { stack, openModal, closeModal } = useModals()\n\n  const [value, setValue] = useState('')\n\n  return (\n    <AnimatePresence>\n      {open && (\n        <motion.div\n          style={{\n            zIndex: 100,\n            position: `fixed`,\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            display: `flex`,\n            justifyContent: `center`,\n            alignItems: 'center',\n          }}\n          variants={{\n            show: {\n              opacity: 1,\n              scale: 1,\n            },\n            hide: {\n              opacity: 0,\n              scale: 0,\n            },\n          }}\n          initial=\"hide\"\n          animate=\"show\"\n          exit=\"hide\"\n          {...props}\n        >\n          <motion.div\n            style={{\n              width: 400,\n              height: 200,\n              padding: '0 16px',\n              borderRadius: '10px',\n              background: 'white',\n              border: '1px solid #e5e5e5',\n              boxShadow:\n                '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',\n            }}\n          >\n            <h2>{title}</h2>\n            <p>{message}</p>\n            <input\n              value={value}\n              onChange={(e) => setValue(e.currentTarget.value)}\n            />\n            <br />\n            <br />\n            <button\n              onClick={() => {\n                openModal(AnimatedModal, {\n                  title: `Hello`,\n                  message: `I'm modal #${stack.length + 1}`,\n                })\n              }}\n            >\n              Open another one!\n            </button>\n            <button\n              onClick={() => {\n                closeModal()\n              }}\n            >\n              Close me\n            </button>\n          </motion.div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  )\n}\n",locationsMap:{"animated--framer-motion":{startLoc:{col:28,line:16},endLoc:{col:1,line:27},startBody:{col:28,line:16},endBody:{col:1,line:27}}}}},title:"Animated",decorators:[function(Story){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.a,{renderModals:AnimatedModals},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Story,null))}]};var FramerMotion=addSourceDecorator((function(){var openModal=Object(_src__WEBPACK_IMPORTED_MODULE_3__.b)().openModal;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",{onClick:function(){openModal(AnimatedModal)}},"Open Modal")}),{__STORY__:"import { AnimatePresence, motion } from 'framer-motion'\nimport React, { useEffect, useState } from 'react'\nimport { ModalStack, useModals } from '../src'\n\nexport default {\n  title: 'Animated',\n  decorators: [\n    (Story) => (\n      <ModalStack renderModals={AnimatedModals}>\n        <Story />\n      </ModalStack>\n    ),\n  ],\n}\n\nexport const FramerMotion = () => {\n  const { openModal } = useModals()\n  return (\n    <button\n      onClick={() => {\n        openModal(AnimatedModal)\n      }}\n    >\n      Open Modal\n    </button>\n  )\n}\n\nfunction AnimatedModals({ stack }) {\n  // the \"displayed\" stack which will be a lagged version of stack\n  // in order to animate the transitions between modals\n  const [displayedStack, setDisplayedStack] = useState(stack)\n\n  // track the \"open\" state manually so we can dismiss the\n  // top modal before popping it off the stack\n  const [isOpen, setOpen] = useState(false)\n\n  useEffect(() => {\n    // we're opening the first modal, so update the stack right away\n    if (stack.length === 1 && displayedStack.length === 0) {\n      setOpen(true)\n      setDisplayedStack(stack)\n    }\n    // stack updated, trigger a dismissal of the current modal\n    else {\n      setOpen(false)\n    }\n  }, [stack])\n\n  return (\n    <>\n      <AnimatePresence>\n        {stack.length > 0 && (\n          <motion.div\n            style={{\n              zIndex: 90,\n              position: `fixed`,\n              top: 0,\n              left: 0,\n              right: 0,\n              bottom: 0,\n              background: 'rgba(0,0,0,0.3)',\n            }}\n            variants={{\n              show: { opacity: 1 },\n              hide: { opacity: 0 },\n            }}\n            initial=\"hide\"\n            animate=\"show\"\n            exit=\"hide\"\n          />\n        )}\n      </AnimatePresence>\n      {displayedStack.map((modal, index) => (\n        <modal.component\n          key={index}\n          open={index === displayedStack.length - 1 && isOpen}\n          onAnimationComplete={() => {\n            // set open state for next modal\n            if (stack.length > 0) {\n              setOpen(true)\n            } else {\n              setOpen(false)\n            }\n\n            // update displayed stack\n            // setTimeout is a hack to prevent a warning about updating state\n            // in an unmounted component (I can't figure out why it happens, or why this fixes it)\n            setTimeout(() => setDisplayedStack(stack))\n\n            modal.props?.onAnimationComplete?.()\n          }}\n          {...modal.props}\n        />\n      ))}\n    </>\n  )\n}\n\nfunction AnimatedModal({\n  open,\n  message = `I'm modal #1`,\n  title = 'Hello',\n  ...props\n}: {\n  open: boolean\n  title?: string\n  message?: string\n}) {\n  const { stack, openModal, closeModal } = useModals()\n\n  const [value, setValue] = useState('')\n\n  return (\n    <AnimatePresence>\n      {open && (\n        <motion.div\n          style={{\n            zIndex: 100,\n            position: `fixed`,\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            display: `flex`,\n            justifyContent: `center`,\n            alignItems: 'center',\n          }}\n          variants={{\n            show: {\n              opacity: 1,\n              scale: 1,\n            },\n            hide: {\n              opacity: 0,\n              scale: 0,\n            },\n          }}\n          initial=\"hide\"\n          animate=\"show\"\n          exit=\"hide\"\n          {...props}\n        >\n          <motion.div\n            style={{\n              width: 400,\n              height: 200,\n              padding: '0 16px',\n              borderRadius: '10px',\n              background: 'white',\n              border: '1px solid #e5e5e5',\n              boxShadow:\n                '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',\n            }}\n          >\n            <h2>{title}</h2>\n            <p>{message}</p>\n            <input\n              value={value}\n              onChange={(e) => setValue(e.currentTarget.value)}\n            />\n            <br />\n            <br />\n            <button\n              onClick={() => {\n                openModal(AnimatedModal, {\n                  title: `Hello`,\n                  message: `I'm modal #${stack.length + 1}`,\n                })\n              }}\n            >\n              Open another one!\n            </button>\n            <button\n              onClick={() => {\n                closeModal()\n              }}\n            >\n              Close me\n            </button>\n          </motion.div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  )\n}\n",__ADDS_MAP__:{"animated--framer-motion":{startLoc:{col:28,line:16},endLoc:{col:1,line:27},startBody:{col:28,line:16},endBody:{col:1,line:27}}},__MAIN_FILE_LOCATION__:"/Animated.stories.tsx",__MODULE_DEPENDENCIES__:[],__LOCAL_DEPENDENCIES__:{},__SOURCE_PREFIX__:"/Users/mattjennings/dev/react-modal-stack/stories",__IDS_TO_FRAMEWORKS__:{}});function AnimatedModals(_a){var stack=_a.stack,_b=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(stack),displayedStack=_b[0],setDisplayedStack=_b[1],_c=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),isOpen=_c[0],setOpen=_c[1];return Object(react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){1===stack.length&&0===displayedStack.length?(setOpen(!0),setDisplayedStack(stack)):setOpen(!1)}),[stack]),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(framer_motion__WEBPACK_IMPORTED_MODULE_1__.a,null,stack.length>0&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(framer_motion__WEBPACK_IMPORTED_MODULE_1__.b.div,{style:{zIndex:90,position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.3)"},variants:{show:{opacity:1},hide:{opacity:0}},initial:"hide",animate:"show",exit:"hide"})),displayedStack.map((function(modal,index){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(modal.component,Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)({key:index,open:index===displayedStack.length-1&&isOpen,onAnimationComplete:function(){var _a,_b;stack.length>0?setOpen(!0):setOpen(!1),setTimeout((function(){return setDisplayedStack(stack)})),null===(_b=null===(_a=modal.props)||void 0===_a?void 0:_a.onAnimationComplete)||void 0===_b||_b.call(_a)}},modal.props))})))}function AnimatedModal(_a){var open=_a.open,_b=_a.message,message=void 0===_b?"I'm modal #1":_b,_c=_a.title,title=void 0===_c?"Hello":_c,props=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)(_a,["open","message","title"]),_d=Object(_src__WEBPACK_IMPORTED_MODULE_3__.b)(),stack=_d.stack,openModal=_d.openModal,closeModal=_d.closeModal,_e=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(""),value=_e[0],setValue=_e[1];return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(framer_motion__WEBPACK_IMPORTED_MODULE_1__.a,null,open&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(framer_motion__WEBPACK_IMPORTED_MODULE_1__.b.div,Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)({style:{zIndex:100,position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"},variants:{show:{opacity:1,scale:1},hide:{opacity:0,scale:0}},initial:"hide",animate:"show",exit:"hide"},props),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(framer_motion__WEBPACK_IMPORTED_MODULE_1__.b.div,{style:{width:400,height:200,padding:"0 16px",borderRadius:"10px",background:"white",border:"1px solid #e5e5e5",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h2",null,title),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p",null,message),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",{value:value,onChange:function(e){return setValue(e.currentTarget.value)}}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",{onClick:function(){openModal(AnimatedModal,{title:"Hello",message:"I'm modal #"+(stack.length+1)})}},"Open another one!"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",{onClick:function(){closeModal()}},"Close me"))))}},1280:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return Basic})),__webpack_require__.d(__webpack_exports__,"Backdrop",(function(){return Backdrop}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(52),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_src__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(64),addSourceDecorator=(__webpack_require__(184).withSource,__webpack_require__(184).addSource),__STORY__="import React from 'react'\nimport { ModalStack, useModals } from '../src'\n\nexport default {\n  title: 'Basic',\n  decorators: [\n    (Story) => (\n      <ModalStack>\n        <Story />\n      </ModalStack>\n    ),\n  ],\n}\n\nexport const Basic = () => {\n  const { openModal } = useModals()\n\n  return (\n    <button\n      onClick={() => {\n        openModal(Modal)\n      }}\n    >\n      Open Modal\n    </button>\n  )\n}\n\nexport const Backdrop = () => {\n  function OpenModalButton() {\n    const { openModal } = useModals()\n\n    return (\n      <button\n        onClick={() => {\n          openModal(Modal)\n        }}\n      >\n        Open Modal\n      </button>\n    )\n  }\n\n  return (\n    <ModalStack\n      renderModals={({ stack }) => (\n        <>\n          {stack.length > 0 && (\n            <div\n              style={{\n                zIndex: 90,\n                position: `fixed`,\n                top: 0,\n                left: 0,\n                right: 0,\n                bottom: 0,\n                background: 'rgba(0,0,0,0.3)',\n              }}\n            />\n          )}\n          {stack.map((modal, index) => {\n            return (\n              <modal.component\n                key={index}\n                open={modal === stack[stack.length - 1]}\n                {...modal.props}\n              />\n            )\n          })}\n        </>\n      )}\n    >\n      <OpenModalButton />\n    </ModalStack>\n  )\n}\n\nfunction Modal({\n  open,\n  title = 'Hello',\n  message = \"I'm modal #1\",\n}: {\n  open: boolean\n  title?: string\n  message?: string\n}) {\n  const { stack, openModal, closeModal } = useModals()\n\n  if (!open) {\n    return null\n  }\n\n  return (\n    <div\n      style={{\n        zIndex: 100,\n        position: `fixed`,\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        display: `flex`,\n        justifyContent: `center`,\n        alignItems: 'center',\n      }}\n    >\n      <div\n        style={{\n          width: 400,\n          height: 200,\n          padding: '0 16px',\n          borderRadius: '10px',\n          background: 'white',\n          border: '1px solid #e5e5e5',\n          boxShadow:\n            '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',\n        }}\n      >\n        <h2>{title}</h2>\n        <p>{message}</p>\n        <button\n          onClick={() => {\n            openModal(Modal, {\n              title: `Hello`,\n              message: `I'm modal #${stack.length + 1}`,\n            })\n          }}\n        >\n          Open another one!\n        </button>\n        <button\n          onClick={() => {\n            closeModal()\n          }}\n        >\n          Close me\n        </button>\n      </div>\n    </div>\n  )\n}\n",__ADDS_MAP__={"basic--basic":{startLoc:{col:21,line:15},endLoc:{col:1,line:27},startBody:{col:21,line:15},endBody:{col:1,line:27}},"basic--backdrop":{startLoc:{col:24,line:29},endLoc:{col:1,line:76},startBody:{col:24,line:29},endBody:{col:1,line:76}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={};__webpack_exports__.default={parameters:{storySource:{source:"import React from 'react'\nimport { ModalStack, useModals } from '../src'\n\nexport default {\n  title: 'Basic',\n  decorators: [\n    (Story) => (\n      <ModalStack>\n        <Story />\n      </ModalStack>\n    ),\n  ],\n}\n\nexport const Basic = () => {\n  const { openModal } = useModals()\n\n  return (\n    <button\n      onClick={() => {\n        openModal(Modal)\n      }}\n    >\n      Open Modal\n    </button>\n  )\n}\n\nexport const Backdrop = () => {\n  function OpenModalButton() {\n    const { openModal } = useModals()\n\n    return (\n      <button\n        onClick={() => {\n          openModal(Modal)\n        }}\n      >\n        Open Modal\n      </button>\n    )\n  }\n\n  return (\n    <ModalStack\n      renderModals={({ stack }) => (\n        <>\n          {stack.length > 0 && (\n            <div\n              style={{\n                zIndex: 90,\n                position: `fixed`,\n                top: 0,\n                left: 0,\n                right: 0,\n                bottom: 0,\n                background: 'rgba(0,0,0,0.3)',\n              }}\n            />\n          )}\n          {stack.map((modal, index) => {\n            return (\n              <modal.component\n                key={index}\n                open={modal === stack[stack.length - 1]}\n                {...modal.props}\n              />\n            )\n          })}\n        </>\n      )}\n    >\n      <OpenModalButton />\n    </ModalStack>\n  )\n}\n\nfunction Modal({\n  open,\n  title = 'Hello',\n  message = \"I'm modal #1\",\n}: {\n  open: boolean\n  title?: string\n  message?: string\n}) {\n  const { stack, openModal, closeModal } = useModals()\n\n  if (!open) {\n    return null\n  }\n\n  return (\n    <div\n      style={{\n        zIndex: 100,\n        position: `fixed`,\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        display: `flex`,\n        justifyContent: `center`,\n        alignItems: 'center',\n      }}\n    >\n      <div\n        style={{\n          width: 400,\n          height: 200,\n          padding: '0 16px',\n          borderRadius: '10px',\n          background: 'white',\n          border: '1px solid #e5e5e5',\n          boxShadow:\n            '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',\n        }}\n      >\n        <h2>{title}</h2>\n        <p>{message}</p>\n        <button\n          onClick={() => {\n            openModal(Modal, {\n              title: `Hello`,\n              message: `I'm modal #${stack.length + 1}`,\n            })\n          }}\n        >\n          Open another one!\n        </button>\n        <button\n          onClick={() => {\n            closeModal()\n          }}\n        >\n          Close me\n        </button>\n      </div>\n    </div>\n  )\n}\n",locationsMap:{"basic--basic":{startLoc:{col:21,line:15},endLoc:{col:1,line:27},startBody:{col:21,line:15},endBody:{col:1,line:27}},"basic--backdrop":{startLoc:{col:24,line:29},endLoc:{col:1,line:76},startBody:{col:24,line:29},endBody:{col:1,line:76}}}}},title:"Basic",decorators:[function(Story){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.a,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Story,null))}]};var Basic=addSourceDecorator((function(){var openModal=Object(_src__WEBPACK_IMPORTED_MODULE_2__.b)().openModal;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{onClick:function(){openModal(Modal)}},"Open Modal")}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/Basic.stories.tsx",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:"/Users/mattjennings/dev/react-modal-stack/stories",__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),Backdrop=addSourceDecorator((function(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.a,{renderModals:function(_a){var stack=_a.stack;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment,null,stack.length>0&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{style:{zIndex:90,position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.3)"}}),stack.map((function(modal,index){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(modal.component,Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)({key:index,open:modal===stack[stack.length-1]},modal.props))})))}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement((function OpenModalButton(){var openModal=Object(_src__WEBPACK_IMPORTED_MODULE_2__.b)().openModal;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{onClick:function(){openModal(Modal)}},"Open Modal")}),null))}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/Basic.stories.tsx",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:"/Users/mattjennings/dev/react-modal-stack/stories",__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__});function Modal(_a){var open=_a.open,_b=_a.title,title=void 0===_b?"Hello":_b,_c=_a.message,message=void 0===_c?"I'm modal #1":_c,_d=Object(_src__WEBPACK_IMPORTED_MODULE_2__.b)(),stack=_d.stack,openModal=_d.openModal,closeModal=_d.closeModal;return open?react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{style:{zIndex:100,position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{style:{width:400,height:200,padding:"0 16px",borderRadius:"10px",background:"white",border:"1px solid #e5e5e5",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h2",null,title),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p",null,message),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{onClick:function(){openModal(Modal,{title:"Hello",message:"I'm modal #"+(stack.length+1)})}},"Open another one!"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{onClick:function(){closeModal()}},"Close me"))):null}},449:function(module,exports,__webpack_require__){__webpack_require__(450),__webpack_require__(597),__webpack_require__(598),__webpack_require__(1251),module.exports=__webpack_require__(1252)},514:function(module,exports){},64:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return useModals})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ModalStack}));var tslib_es6=__webpack_require__(52),react=__webpack_require__(0),react_default=__webpack_require__.n(react),ModalStackContext=react_default.a.createContext({});function ModalStack(_a){var children=_a.children,_b=_a.renderModals,ModalsComponent=void 0===_b?Modals:_b,_c=Object(react.useState)([]),stack=_c[0],setStack=_c[1],value=Object(react.useMemo)((function(){function dismissAll(){setStack([])}function dismiss(amount){1===stack.length?dismissAll():function pop(amount){return void 0===amount&&(amount=1),setStack((function(prev){return Object(tslib_es6.c)(prev).slice(0,prev.length-amount)}))}(amount)}return{stack:stack,openModal:function(component,props,options){setStack((function(prev){var newStack=Object(tslib_es6.c)(prev);return(null==options?void 0:options.replace)&&(newStack=stack.slice(0,stack.length-1)),Object(tslib_es6.c)(newStack,[{component:component,props:props}])}))},closeModal:function(){return dismiss(1)},closeModals:dismiss,closeAllModals:dismissAll}}),[stack]);return react_default.a.createElement(ModalStackContext.Provider,{value:value},children,react_default.a.createElement(ModalsComponent,Object(tslib_es6.a)({},value)))}function Modals(_a){var stack=_a.stack;return react_default.a.createElement(react_default.a.Fragment,null,stack.map((function(modal,index){return react_default.a.createElement(modal.component,Object(tslib_es6.a)({key:index,open:modal===stack[stack.length-1]},modal.props))})))}function useModals(){return Object(react.useContext)(ModalStackContext)}try{ModalStack.displayName="ModalStack",ModalStack.__docgenInfo={description:"",displayName:"ModalStack",props:{renderModals:{defaultValue:null,description:"",name:"renderModals",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ModalStack.tsx#ModalStack"]={docgenInfo:ModalStack.__docgenInfo,name:"ModalStack",path:"src/ModalStack.tsx#ModalStack"})}catch(__react_docgen_typescript_loader_error){}}},[[449,1,2]]]);
//# sourceMappingURL=main.261df23cc3b95f212677.bundle.js.map